import j from"./CDY8jUV0.js";import w from"./CwdbUuWM.js";import B from"./yDZ8TQa-.js";import{f as y,u as C,i as k,P as f,g as b,h as N,j as S,k as l,l as m,s as A,m as E,n as O,p as T,q as d,r as H,v as D,S as $,x as R,y as q,L as F,z as U,A as W,c as z,o as p,b as g,w as P,B as L}from"#entry";import{u as I}from"./BlTT4Lg8.js";import"./CN_dWvHO.js";import"./B8IaAclc.js";import"./Dm9W8gQQ.js";const M=y({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,n){return()=>d(m[t.name],t.layoutProps,n.slots)}}),V={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},G=y({name:"NuxtLayout",inheritAttrs:!1,props:V,setup(t,n){const e=C(),s=k(f),u=!s||s===b()?N():s,o=S(()=>{let a=l(t.name)??u?.meta.layout??"default";return a&&!(a in m)&&t.fallback&&(a=l(t.fallback)),a}),i=A();n.expose({layoutRef:i});const r=e.deferHydration();if(e.isHydrating){const a=e.hooks.hookOnce("app:error",r);E().beforeEach(a)}let c;return()=>{const a=o.value&&o.value in m,v=u?.meta.layoutTransition??O,x=c;return c=o.value,T(a&&v,{default:()=>d($,{suspensible:!0,onResolve:()=>{D(r)}},{default:()=>d(J,{layoutProps:H(n.attrs,{ref:i}),key:o.value||void 0,name:o.value,shouldProvide:!t.name,isRenderingNewLayout:h=>h!==x&&h===o.value,hasTransition:!!v},n.slots)})}).default()}}}),J=y({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(t,n){const e=t.name;t.shouldProvide&&R(F,{isCurrent:u=>e===(u.meta.layout??"default")});const s=k(f);if(s&&s===b()){const u=N(),o={};for(const i in u){const r=i;Object.defineProperty(o,r,{enumerable:!0,get:()=>t.isRenderingNewLayout(t.name)?u[r]:s[r]})}R(f,q(o))}return()=>!e||typeof e=="string"&&!(e in m)?n.slots.default?.():d(M,{key:e,layoutProps:t.layoutProps,name:e},n.slots)}}),K={class:"document-driven-page"},ae=y({__name:"document-driven",setup(t){const{contentHead:n}=U().public.content,{page:e,layout:s}=W();return e.value,n&&I(e),(_,u)=>{const o=j,i=w,r=B,c=G;return p(),z("div",K,[g(c,{name:l(s)||"default"},{default:P(()=>[l(e)?(p(),L(i,{key:l(e)._id,value:l(e)},{empty:P(({value:a})=>[g(o,{value:a},null,8,["value"])]),_:1},8,["value"])):(p(),L(r,{key:1}))]),_:1},8,["name"])])}}});export{ae as default};
